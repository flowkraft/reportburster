# Production profile - uses SQLite database mounted at /db
spring.datasource.url=jdbc:sqlite:/app/db/sample-northwind-sqlite/northwind.db
spring.datasource.driver-class-name=org.sqlite.JDBC
spring.datasource.username=
spring.datasource.password=

spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect
# Use 'none' when Liquibase manages schema, 'update' otherwise (controlled by backend via DDL_AUTO env var)
spring.jpa.hibernate.ddl-auto=${DDL_AUTO:update}

# Disable Spring Integration JDBC initialization (SQLite not supported)
spring.integration.jdbc.initialize-schema=never

# Liquibase Groovy DSL configuration (controlled via environment variable)
spring.liquibase.enabled=${ENABLE_LIQUIBASE_GROOVY_MIGRATIONS:false}
spring.liquibase.change-log=classpath:db/migration/changelog.groovy

# Spring Session configuration
spring.session.store-type=jdbc
spring.session.jdbc.initialize-schema=always

# Actuator configuration
management.endpoints.web.exposure.include=health
